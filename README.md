# AIå¯¹è¯ç›‘æ§åŠ©æ‰‹ (AI Dialogue Monitor)

ä¸€ä¸ªæ™ºèƒ½çš„æµè§ˆå™¨æ’ä»¶ï¼ˆChrome / Edgeï¼‰ï¼Œè‡ªåŠ¨ç›‘æ§å’Œè®°å½•æ‚¨ä¸ AI çš„å¯¹è¯ï¼Œå¹¶æ¥å…¥å¤§æ¨¡å‹ API ç”Ÿæˆæ¯æ—¥å­¦ä¹ æ”¶è·æ€»ç»“ã€‚æ”¯æŒæµå¼è¾“å‡ºã€ä¾§è¾¹æ å›ºå®šã€å…¨æ–‡æœç´¢ã€æ¯æ—¥æé†’ç­‰ç°ä»£ä½“éªŒã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **è‡ªåŠ¨ç›‘æ§** â€” å®æ—¶æ•è·æ‚¨ä¸ AI çš„å¯¹è¯å†…å®¹ï¼ˆDOM çº§åˆ«æŠ“å–ï¼Œæ— éœ€é¢å¤– APIï¼‰
- ğŸ“ **æ™ºèƒ½è®°å½•** â€” æŒ‰æ—¥æœŸç»“æ„åŒ–å­˜å‚¨æ‰€æœ‰å¯¹è¯æ•°æ®
- ğŸ¤– **AI æ€»ç»“** â€” æ¥å…¥ Kimi / OpenAI / DeepSeek ç­‰å¤§æ¨¡å‹ APIï¼Œä¸€é”®ç”Ÿæˆæ¯æ—¥å­¦ä¹ æ€»ç»“
- âš¡ **æµå¼è¾“å‡º** â€” æ€»ç»“ç”Ÿæˆæ—¶é€å­—å‘ˆç°ï¼Œç±»ä¼¼ ChatGPT æ‰“å­—æ•ˆæœ
- ğŸ“Œ **ä¾§è¾¹æ å›ºå®š** â€” å¯å›ºå®šåœ¨æµè§ˆå™¨å³ä¾§ï¼ˆç±»ä¼¼ Copilotï¼‰ï¼Œæ— éœ€åå¤ç‚¹å‡»å›¾æ ‡
- ğŸ” **å…¨æ–‡æœç´¢** â€” è·¨æ—¥æœŸã€è·¨å¹³å°æœç´¢æ‰€æœ‰å¯¹è¯è®°å½•ï¼Œå…³é”®è¯é«˜äº®
- ğŸ“‹ **æ‰‹åŠ¨æ·»åŠ ** â€” è‡ªåŠ¨æŠ“å–å¤±æ•ˆæ—¶ï¼Œå¯æ‰‹åŠ¨ç²˜è´´å¯¹è¯å†…å®¹ä½œä¸ºå…œåº•
- ğŸ“¡ **å¹³å°å¥åº·** â€” å®æ—¶æ˜¾ç¤ºå„ AI å¹³å°çš„è¿æ¥çŠ¶æ€å’Œæ•°æ®ç»Ÿè®¡
- ğŸ”” **æ¯æ—¥æé†’** â€” æ¯å¤©å®šæ—¶æ¨é€é€šçŸ¥ï¼Œæé†’æŸ¥çœ‹å½“æ—¥å­¦ä¹ æ€»ç»“
- ğŸ¯ **6å¤§å¹³å°** â€” ChatGPTã€Claudeã€Copilotã€Geminiã€DeepSeekã€Perplexity
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨** â€” æ‰€æœ‰æ•°æ®å®Œå…¨å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨ï¼Œä¿æŠ¤éšç§
- ğŸ“¤ **æ•°æ®å¯¼å‡º** â€” æ”¯æŒå¯¼å‡ºä¸º JSON æ ¼å¼å¤‡ä»½
- âš™ï¸ **é«˜åº¦å¯é…ç½®** â€” LLM ä¾›åº”å•†ã€æ¨¡å‹ã€æç¤ºè¯ç­‰å‡å¯è‡ªå®šä¹‰

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- **å­¦ä¹ è®°å½•**ï¼šè®°å½•æ¯å¤©ä» AI å¯¹è¯ä¸­å­¦åˆ°çš„çŸ¥è¯†ç‚¹
- **çŸ¥è¯†ç®¡ç†**ï¼šå»ºç«‹ä¸ªäººçŸ¥è¯†åº“ï¼Œæ–¹ä¾¿å›é¡¾å’ŒæŸ¥æ‰¾
- **å­¦ä¹ åˆ†æ**ï¼šäº†è§£è‡ªå·±çš„å­¦ä¹ è¶‹åŠ¿å’Œé‡ç‚¹é¢†åŸŸ
- **å†…å®¹æ•´ç†**ï¼šè‡ªåŠ¨æ•´ç†æ•£è½åœ¨å„ AI å¹³å°çš„å¯¹è¯å†…å®¹

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šåŠ è½½æ’ä»¶

#### Chrome / Edge

1. æ‰“å¼€æµè§ˆå™¨æ‰©å±•ç®¡ç†é¡µé¢ï¼š
   - Chromeï¼š`chrome://extensions/`
   - Edgeï¼š`edge://extensions/`
2. å¼€å¯ **å¼€å‘è€…æ¨¡å¼**ï¼ˆå³ä¸Šè§’å¼€å…³ï¼‰
3. ç‚¹å‡» **åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº**
4. é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ï¼ˆ`ai_dialogue` æ–‡ä»¶å¤¹ï¼‰
5. âœ… å®‰è£…å®Œæˆï¼

### ç¬¬äºŒæ­¥ï¼šé…ç½® API Keyï¼ˆç”¨äº AI æ€»ç»“ï¼‰

1. å³é”®æ’ä»¶å›¾æ ‡ â†’ **é€‰é¡¹**ï¼ˆæˆ–ç›´æ¥è®¿é—®è®¾ç½®é¡µé¢ï¼‰
2. åœ¨ã€Œå¤§æ¨¡å‹é…ç½®ã€ä¸­é€‰æ‹©ä¾›åº”å•†ï¼ˆé»˜è®¤ Moonshot / Kimiï¼‰
3. è¾“å…¥ä½ çš„ API Key
4. ç‚¹å‡»ã€Œä¿å­˜é…ç½®ã€â†’ã€Œæµ‹è¯•è¿æ¥ã€
5. âœ… é…ç½®å®Œæˆï¼

### ç¬¬ä¸‰æ­¥ï¼šå¼€å§‹ä½¿ç”¨

1. è®¿é—®ä»»ä¸€æ”¯æŒçš„ AI å¹³å°ï¼ˆChatGPTã€Claudeã€DeepSeek ç­‰ï¼‰
2. æ­£å¸¸å¯¹è¯ï¼Œæ’ä»¶è‡ªåŠ¨è®°å½•
3. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ çš„æ’ä»¶å›¾æ ‡ï¼Œä¾§è¾¹æ ä¼šåœ¨å³ä¾§æ‰“å¼€
4. ä½¿ç”¨ã€ŒğŸ” æœç´¢ã€æ ‡ç­¾é¡µæŸ¥æ‰¾å†å²å¯¹è¯
5. åˆ‡æ¢åˆ°ã€ŒğŸ§  æ€»ç»“ã€æ ‡ç­¾é¡µï¼Œç‚¹å‡»ã€Œç”Ÿæˆæ€»ç»“ã€
6. ğŸ‰ äº«å—æµå¼è¾“å‡ºçš„ AI å­¦ä¹ æ€»ç»“ï¼

> **ğŸ’¡ æç¤º**ï¼š
> - ç‚¹å‡»æ’ä»¶å›¾æ ‡åä¾§è¾¹æ ä¼šå›ºå®šåœ¨æµè§ˆå™¨å³ä¾§ï¼Œæ— éœ€åå¤ç‚¹å‡»
> - è‡ªåŠ¨æŠ“å–å¤±æ•ˆæ—¶ï¼Œå¯åœ¨ã€ŒğŸ’¬ æ¶ˆæ¯ã€é¡µç‚¹å‡» â• æ‰‹åŠ¨æ·»åŠ å¯¹è¯
> - æ¦‚è§ˆé¡µå¯ä»¥å¼€å¯æ¯æ—¥æé†’ï¼Œå®šæ—¶æ¨é€å­¦ä¹ æŠ¥å‘Šé€šçŸ¥

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai_dialogue/
â”œâ”€â”€ manifest.json                 # æ’ä»¶é…ç½®æ–‡ä»¶ (Manifest V3)
â”œâ”€â”€ llm-config.js                 # LLM å¤§æ¨¡å‹é…ç½®ï¼ˆä¾›åº”å•†/æ¨¡å‹/å‚æ•°ï¼‰
â”œâ”€â”€ background/
â”‚   â””â”€â”€ service-worker.js         # åå°æœåŠ¡ Worker
â”œâ”€â”€ content/
â”‚   â””â”€â”€ all-in-one.js             # å†…å®¹è„šæœ¬ï¼ˆå«å…¨å¹³å°é€‚é…å™¨ï¼‰
â”œâ”€â”€ sidepanel/                    # ä¾§è¾¹æ  UIï¼ˆä¸»ç•Œé¢ï¼‰
â”‚   â”œâ”€â”€ sidepanel.html
â”‚   â”œâ”€â”€ sidepanel.js
â”‚   â””â”€â”€ sidepanel.css
â”œâ”€â”€ popup/                        # å¼¹çª— UI
â”‚   â”œâ”€â”€ popup.html
â”‚   â”œâ”€â”€ popup.js
â”‚   â””â”€â”€ popup.css
â”œâ”€â”€ options/                      # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ options.html
â”‚   â”œâ”€â”€ options.js
â”‚   â””â”€â”€ options.css
â”œâ”€â”€ lib/                          # ç¬¬ä¸‰æ–¹åº“ & å·¥å…·
â”‚   â”œâ”€â”€ llm-stream.js             # æµå¼ LLM API è°ƒç”¨å·¥å…·
â”‚   â”œâ”€â”€ marked.min.js             # Markdown æ¸²æŸ“
â”‚   â”œâ”€â”€ highlight.min.js          # ä»£ç é«˜äº®
â”‚   â”œâ”€â”€ highlight-github.min.css  # ä»£ç é«˜äº®ä¸»é¢˜
â”‚   â””â”€â”€ mermaid.min.js            # Mermaid å›¾è¡¨æ¸²æŸ“
â”œâ”€â”€ assets/icons/                 # å›¾æ ‡æ–‡ä»¶
â”œâ”€â”€ README.md
â””â”€â”€ QUICKSTART.md
```

## ğŸ”§ æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|------|------|
| æ¡†æ¶ | Chrome Extension Manifest V3 |
| è¯­è¨€ | åŸç”Ÿ JavaScriptï¼ˆé›¶ä¾èµ–æ¡†æ¶ï¼‰ |
| å­˜å‚¨ | Chrome Storage API (æœ¬åœ°) |
| UI | åŸç”Ÿ CSS + ä¾§è¾¹æ  (Side Panel API) |
| AI æ€»ç»“ | æµå¼ SSE (Server-Sent Events) |
| Markdown | marked.js + highlight.js + mermaid.js |
| DOM ç›‘æ§ | MutationObserver |
| é€šçŸ¥ | Chrome Notifications API |

## ğŸ¤– æ”¯æŒçš„ LLM ä¾›åº”å•†

| ä¾›åº”å•† | é»˜è®¤æ¨¡å‹ | è¯´æ˜ |
|--------|----------|------|
| **Moonshot / Kimi** | `kimi-k2.5` | é»˜è®¤æ¨èï¼Œæ€§ä»·æ¯”æœ€é«˜ |
| OpenAI / ChatGPT | `gpt-4o-mini` | éœ€ OpenAI API Key |
| DeepSeek | `deepseek-chat` | å›½äº§å¤§æ¨¡å‹ |
| æ™ºè°± / GLM | `glm-4-flash` | å›½äº§å¤§æ¨¡å‹ |
| è‡ªå®šä¹‰ | â€” | å…¼å®¹ OpenAI API æ ¼å¼çš„ä»»æ„ä¾›åº”å•† |

## ğŸ“Š æ”¯æŒçš„ AI å¹³å°

| å¹³å° | åŸŸå | çŠ¶æ€ |
|------|------|------|
| ChatGPT | `chatgpt.com` / `chat.openai.com` | âœ… |
| Claude | `claude.ai` | âœ… |
| Microsoft Copilot | `copilot.microsoft.com` | âœ… |
| Google Gemini | `gemini.google.com` | âœ… |
| DeepSeek | `chat.deepseek.com` | âœ… æ–°å¢ |
| Perplexity | `perplexity.ai` | âœ… æ–°å¢ |

## ğŸ“‹ åŠŸèƒ½å®ŒæˆçŠ¶æ€

- [x] **Phase 1**: åŸºç¡€åŠŸèƒ½ â€” æ¶ˆæ¯ç›‘æ§ / æ•°æ®å­˜å‚¨ / Popup / è®¾ç½®é¡µé¢
- [x] **Phase 2**: å¤šå¹³å°æ”¯æŒ â€” ChatGPT / Claude / Copilot / Gemini
- [x] **Phase 3**: AI æ™ºèƒ½æ€»ç»“ â€” æ¥å…¥ Kimi ç­‰å¤§æ¨¡å‹ API
- [x] **Phase 4**: LLM é…ç½®å¤–éƒ¨åŒ– â€” å¤šä¾›åº”å•† / æ¨¡å‹é€‰æ‹© / è‡ªå®šä¹‰æç¤ºè¯
- [x] **Phase 5**: æµå¼è¾“å‡º â€” SSE é€å­—å‘ˆç° AI æ€»ç»“
- [x] **Phase 6**: ä¾§è¾¹æ  â€” å›ºå®šåœ¨æµè§ˆå™¨å³ä¾§ï¼ŒæŒä¹…åŒ–æ˜¾ç¤º
- [x] **Phase 7**: å…¨æ–‡æœç´¢ â€” è·¨æ—¥æœŸè·¨å¹³å°å…³é”®è¯æœç´¢
- [x] **Phase 8**: ç¨³å®šæ€§å…œåº• â€” æ‰‹åŠ¨ç²˜è´´å…¥å£ + å¹³å°å¥åº·æŒ‡ç¤º
- [x] **Phase 9**: æ¯æ—¥æé†’ â€” Chrome Notifications å®šæ—¶æ¨é€
- [x] **Phase 10**: æ‰©å±•å¹³å° â€” æ–°å¢ DeepSeek + Perplexity é€‚é…å™¨

## ğŸ”’ éšç§è¯´æ˜

- âœ… æ‰€æœ‰å¯¹è¯æ•°æ®å®Œå…¨å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨
- âœ… ä»…åœ¨ç”¨æˆ·ä¸»åŠ¨ç‚¹å‡»ã€Œç”Ÿæˆæ€»ç»“ã€æ—¶æ‰è°ƒç”¨å¤–éƒ¨ LLM API
- âœ… API Key å­˜å‚¨åœ¨æœ¬åœ° `chrome.storage`ï¼Œä¸ä¼šå¤–ä¼ 
- âœ… ä¸ä¼šæ”¶é›†ç”¨æˆ·éšç§ä¿¡æ¯
- âœ… å¯éšæ—¶æ¸…é™¤æ‰€æœ‰æ•°æ®

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

**å½“å‰ç‰ˆæœ¬**ï¼šv1.4.0 â€” å…¨æ–‡æœç´¢ / æ‰‹åŠ¨æ·»åŠ  / æ¯æ—¥æé†’ / DeepSeek + Perplexity æ”¯æŒ
